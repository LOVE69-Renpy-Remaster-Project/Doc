---
title: 代码规范
date: 2022-02-21 11:56:00
updated: 2022-02-21 11:56:00
---

::: tip
本节介绍项目的代码规范，主要对对话脚本进行规范
:::

::: warning
请注意本项目的一些写法可能并不符合 Ren’Py 文档中的代码规范，但是却能实实在在解决本项目中遇到的问题，当你发现本文档的一些写法与官方文档出入的地方时，请自行尝试，选用更好的、更适合你的项目的方法
:::

## 对话规范

## 示例

以下是一个完整的对话示例

::: warning
Markdown 无法正确渲染 Ren’Py 语言，这里使用 python 进行渲染，请注意，建议复制到 IDE 中，更加直观，后面将不再提示
:::

注意：前面需要留一个 TAB 的位置（或者四个空格），如果没有特别说明，你都需要这么做

```python
    # 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96
	
    # 心爱 「完全に立ち上がる前にマイコンピューターをダブルクリックして、リムーバブルディスクのアイコンを連打する私」
    show 心愛_制服_基本_真顔 at love69_xinai_center with dissolve
    voice "voice/心愛/cca_a1_0875.ogg"
    ai 心愛_制服_基本_真顔 "在电脑完全启动之前双击我的电脑，连击可移动磁盘图标的我！"
    hide 心愛_制服_基本_嬉しい
```

这段代码会得到这样的效果：



## 解析

::: tip
解析注释用 `#&` 表示，位于要解释的下一行，后面也不再提示
:::

```python
	# 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96
    #& 上面这个是项目组提供的一个方法，调用这个方法可以调整对话框头像到合适位置

    # 心爱 「完全に立ち上がる前にマイコンピューターをダブルクリックして、リムーバブルディスクのアイコンを連打する私」
	#& # 当前说话人物（心爱） 「日语原文」 ；主要是为了日后校对、纠错用
    #& 当没有说话人物时用 nil 
    #& 示例： # nil 「ちなみに、心愛、そいつはダミーだ。残念だったな。」
    
    show 心愛_制服_基本_真顔 at love69_xinai_center with dissolve
    #& show 人物表情 at 位置 with 效果；用来在背景图片中展示人物的位置
    
	voice "voice/心愛/cca_a1_0875.ogg"
    #& voice "音声文件的相对位置" 在 voice 通道播放人物语音
    
	ai 心愛_制服_基本_真顔 "在电脑完全启动之前双击我的电脑，连击可移动磁盘图标的我！"
    #& 人物绑定名称 小对话框表情 "文本内容"
    
	hide 心愛_制服_基本_嬉しい
    #& hide 上一次的表情
    #& 隐藏多余的表情方便下次的渐变特效
```
## 省略

以上示例中的一些内容可以省略

### 省略小对话框人物调整参数的情况

```python
    # 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96
```

这个语句在同一人物连续出现时可以省略，如下：

在该例中，我们的主人公“莲”是没有对话框头像的，和 `nil` 可视为一种情况

```python
	# 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96

    # 心爱 「ふい～…まさか、シャンプーの入れ物にリンスが入ってるとは…」
    show 心愛_制服_基本_不機嫌 at love69_xinai_center with dissolve
    voice "voice/心愛/cca_a1_0865.ogg"
    ai 心愛_制服_基本_不機嫌 "呜欸欸~……怎么说呢，没想到洗发水的瓶子里面竟然装了护发素……"

    # 莲 「だから言ったじゃねぇか…」
    lian "所以我不是说了嘛…"

    # 心爱 「お？　ジャストタイミング？」
    show 心愛_制服_基本_嬉しい at love69_xinai_center with dissolve
    voice "voice/心愛/cca_a1_0866.ogg"
    ai 心愛_制服_基本_嬉しい "哦？Just Timing吗？"
    hide 心愛_制服_基本_不機嫌

    # nil 「俺が真冬の部屋から出ると、ちょうど、俺の部屋に入るために階段を登る心愛に鉢合わせした。」
    "我从真冬的房间出来的时候，正好撞见了为了进入我的房间而正在爬楼梯的心爱"

    # 莲 「しーっ…お姫様はぐっすりの様子でしたよ」
    lian "嘘…公主看起来睡得很香甜捏"

    # 心爱 「あ、じゃぁ、こで立ち話もあれだね…」
    show 心愛_制服_基本_泣き at love69_xinai_center with dissolve
    voice "voice/心愛/cca_a1_0867.ogg"
    ai 心愛_制服_基本_泣き "啊，那，在这里站着说话也是有点那个…"
    hide 心愛_制服_基本_嬉しい
```

### 省略 show 的情况

```python
	show 心愛_制服_基本_不機嫌 at love69_xinai_center with dissolve
```

在背景表情不变的情况下可以省略

请看下面的例子

```python
    # 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96

    # 心爱 「そうか…私はEDFの惑星探査員で地質学者の『エレナ・ユン・グラード』…！」
    show 心愛_制服_基本_真顔 at love69_xinai_left with dissolve
    voice "voice/心愛/cca_a1_0160.ogg"
    ai 心愛_制服_基本_真顔 "是吗…我是EDF行星探查员，地质学家的『艾莉娜・尤恩・格拉德』…！"
    hide 心愛_制服_基本_驚き

    # 莲 「洗脳するのはおやめなすって。この子そういうの信じちゃうから」
    lian "别给她洗脑了，她会相信的"

    # 心爱 「くっ…私が眠ってから何年経ったというのだ…。他の探検隊のメンバーは一体…私は…何かされたのか…だめだ、何も思い出せん…」
    voice "voice/心愛/cca_a1_0161.ogg"
    ai 心愛_制服_基本_真顔 "啊...我已经沉睡了几年了...其他探险队的成员...我...是不是被人做了什么...不行，我什么都想不起来了...（L:小仓朝阳既视感233）"
```

这里展示的两次对话，心爱的表情均是 `心愛_制服_基本_真顔` ，所以可以在后面省略 show 语句

### 省略 voice 的情况

非常简单，没有音声所以省略

```python
	# 莲 「洗脳するのはおやめなすって。この子そういうの信じちゃうから」
	lian "别给她洗脑了，她会相信的"
```

### 省略小对话框表情的情况

在表情不变的情况下，你也可以省略小对话框表情，注意观察

```python
    # 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置
    $ sideimagesize.SideImageXalign = 0.10
    $ sideimagesize.SideImageYalign = 15.72
    $ sideimagesize.SideImageZoom = 0.96

    # 心爱 「ダメだ。そんな事をしたら法則が乱れて大変なことになる。それに、明確なベネフィットをもたらすソリューションとは思えない」
    # 下面动作一样，省略
    # hide 心愛_制服_基本_ぶわー
    show 心愛_制服_基本_不機嫌 at love69_right with dissolve
    voice "voice/心愛/cca_a1_0043.ogg"
    ai 心愛_制服_基本_不機嫌 "不行。这样做会打乱规律，造成非常严重的后果。而且，我不认为这是一个明确有效的好方案"
    hide 心愛_制服_基本_ぶわー

    # 莲 「もう一度言ってみろ」
    lian "再说一遍"

    # 心爱 「ダメだ。そんな事をしたら法則が乱れて大変なことになる。それに、明確なベネフィットをもたらすソリューションとは思えない」
    voice "voice/心愛/cca_a1_0044.ogg" ### &&需要去听一下是新的还是重用<--并不是重用，44是对的
    ai "不行。这样做会打乱规律，造成非常严重的后果。而且，我不认为这是一个明确有效的好方案"
```



### 省略说话人物的情况

### 省略对话人物的情况

### 省略 hide 的情况
