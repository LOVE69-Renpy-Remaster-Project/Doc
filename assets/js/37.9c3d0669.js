(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{617:function(s,n,t){"use strict";t.r(n);var a=t(11),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("本节文档介绍如何制作音乐回放，本篇"),t("strong",[s._v("难度稍高")]),s._v("，强烈建议搭配源码学习")])]),t("p",[s._v("官方文档：https://www.renpy.cn/doc/rooms.html#music-room")]),s._v(" "),t("h2",{attrs:{id:"前置知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[s._v("#")]),s._v(" 前置知识")]),s._v(" "),t("p",[s._v("textbutton、imagebutton，见“QuickMenu（快捷菜单）的制作”一节")]),s._v(" "),t("p",[s._v("相对坐标表示法、绝对坐标表示法，见“添加不同大小的小头像”一节")]),s._v(" "),t("p",[s._v("持久化变量，见“设置和持久化变量”一节")]),s._v(" "),t("p",[s._v("本节内容与上节“制作Gallery”相似")]),s._v(" "),t("h2",{attrs:{id:"需求描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需求描述"}},[s._v("#")]),s._v(" 需求描述")]),s._v(" "),t("p",[s._v("音乐回放是一般 Galgame 中非常常见的功能，在本节我们实现一个能够根据周目情况，判断是否开放音乐回放及开放多少音乐的音乐回放")]),s._v(" "),t("h2",{attrs:{id:"音乐回放的实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#音乐回放的实现"}},[s._v("#")]),s._v(" 音乐回放的实现")]),s._v(" "),t("p",[s._v("官方在这里也是给出了四步的方法，这里我们在判断是否要将音乐开放给玩家的方法和官方不大一样，官方文档给的方法是通过判断该音乐是否被玩家看过决定是否开放，而我们的实现结合了官方的方法和持久化变量的方法，判断该音乐是否被玩家听过（二周目开放的“世迷い恋慕”玩家一定是没有听过的），然后用持久化变量判断二周目通关后解锁该音乐")]),s._v(" "),t("p",[s._v("音乐回放代码也是需要分两个部分写，一部分是 screen ，也就是前面制作主菜单那里提到的给玩家看的 GUI ，而还有一部分是音乐回放的具体内容（也就是玩家能听到的音乐是什么），这部分需要放到初始化模块里面，我们来看代码")]),s._v(" "),t("h3",{attrs:{id:"screen-部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#screen-部分"}},[s._v("#")]),s._v(" screen 部分")]),s._v(" "),t("p",[s._v("也就是给玩家看的 GUI")]),s._v(" "),t("p",[s._v("音乐回放需要播放与主菜单不同的 BGM ，实现方法见最下的“进入退出音乐效果”")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 Ver1.0 screens.rpy 2654-2764行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ______________________________________________________________________________________________")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Music")]),s._v("\nscreen music_room"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    tag menu\n    add "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/back.png"')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Spriterecordings Url")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.636")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.725")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_site_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_site_over.png"')]),s._v("\n        selected_hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_site_one.png"')]),s._v("\n        action OpenURL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://spriterecordings.upper.jp/EmotiveBrilliance/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2022年5月18日 发现这里写重了一次")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# # 01_heartbeat")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# imagebutton:")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     xalign 0.0700899")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     yalign 0.059")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     idle "gui/music_room/btn_bgm01_off.png"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     hover "gui/music_room/btn_bgm01_onover.png"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     selected_idle "gui/music_room/btn_bgm01_on.png"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#     action mr.Play("bgm/bgm01.ogg")')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 01_heartbeat")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.059")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm01_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm01_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm01_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm01.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 08_あの夏まで")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2516")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm02_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm02_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm02_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm05.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# prominence")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.466")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm03_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm03_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm03_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm03.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" persistent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("two"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 世迷い恋慕")]),s._v("\n        imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n            yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.675")]),s._v("\n            idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm04_off.png"')]),s._v("\n            hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm04_onover.png"')]),s._v("\n            selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm04_on.png"')]),s._v("\n            action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm49.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n            yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.675")]),s._v("\n            idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm04_na.png"')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# anonatsu_piano")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0700899")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.9")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm05_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm05_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm05_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm08.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# あの夏rock1111")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.685")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.063")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm06_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm06_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm06_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm42.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# スターチス nightcore")]),s._v("\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.69595")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2575")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm07_off.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm07_onover.png"')]),s._v("\n        selected_idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/music_room/btn_bgm07_on.png"')]),s._v("\n        action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm47.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    imagebutton"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.99")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.99")]),s._v("\n        idle "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/saveload/btn_back_base.png"')]),s._v("\n        hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/saveload/btn_back_onMouse.png"')]),s._v("\n        selected_hover "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gui/saveload/btn_back_onClick.png"')]),s._v("\n        action ShowMenu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main_menu_2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 页面下方的提示")]),s._v("\n    vbox"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("\n        text "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"By Luckykeeper:想回顾全部 BGM？请参照{a=https://love69-renpy-remaster-project.github.io/Doc/dev/%E8%A7%A3%E5%8C%85.html}项目组文档站{/a}指南进行解包~"')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入退出音乐效果")]),s._v("\n    on "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"replace"')]),s._v(" action mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    on "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"replaced"')]),s._v(" action Play"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"music"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm01.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br")])]),t("h3",{attrs:{id:"初始化部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#初始化部分"}},[s._v("#")]),s._v(" 初始化部分")]),s._v(" "),t("p",[s._v("初始化部分写音乐回放需要播放的音乐")]),s._v(" "),t("p",[s._v("代码如下：")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 Ver1.0 screens.rpy 2992-3006行，此处有所删改")]),s._v("\ninit python"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 表示初始化阶段加载，必须加上")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MusicRoom 实例")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step1，创建一个 MusicRoom 实例。")]),s._v("\n    mr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MusicRoom"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fadeout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Step2. 添加音乐文件。")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm01.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 01_heartbeat")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm05.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 08_あの夏まで")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm03.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" always_unlocked"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# prominence")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" persistent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("two"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm49.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" always_unlocked"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 世迷い恋慕")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm49.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm08.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# anonatsu_piano")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm42.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# あの夏rock1111")]),s._v("\n    mr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bgm/bgm47.ogg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# スターチス nightcore")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);