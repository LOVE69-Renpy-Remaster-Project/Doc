(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{617:function(s,t,v){"use strict";v.r(t);var a=v(11),_=Object(a.a)({},(function(){var s=this,t=s.$createElement,v=s._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"title"}),v("p",[s._v("本节文档介绍如何制作动画效果，本节会使用基础方法来做，比较简单")])]),v("p",[s._v("参考资料：https://www.renpy.cn/thread-242-1-1.html")]),s._v(" "),v("p",[s._v("官方文档：https://www.renpy.cn/doc/displaying_images.html#image-statement")]),s._v(" "),v("h2",{attrs:{id:"前置知识"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[s._v("#")]),s._v(" 前置知识")]),s._v(" "),v("p",[s._v("Excel 基础技能，PS抠图，Ren'Py 不大需要前置知识")]),s._v(" "),v("h2",{attrs:{id:"需求描述"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#需求描述"}},[s._v("#")]),s._v(" 需求描述")]),s._v(" "),v("p",[s._v("很多 Galgame 都会有一些动画，比如本作的 “CALL” 动画，还有真冬、心爱的介绍小动画")]),s._v(" "),v("p",[s._v("针对像真冬、心爱的介绍小动画这样作用范围在全屏幕的，推荐做成视频，用类似 "),v("code",[s._v('$ renpy.movie_cutscene("video/真冬カットイン.webm",stop_music=False)')]),s._v(" 这样的方式引入")]),s._v(" "),v("p",[s._v("而动画范围仅在局部的，或者反复播放的，我们就需要做成动画了")]),s._v(" "),v("p",[s._v("这里我们使用最简单的办法，需要"),v("strong",[s._v("特别注意")])]),s._v(" "),v("p",[v("strong",[s._v("这个方法仅适用于300张以内图片的情况，推荐不要超过100张，否则会非常卡")])]),s._v(" "),v("p",[s._v("简单介绍一下手头的素材情况，本作原作的动画是由加密的 jpg 图片构成，我们需要首先把 jpg 抠图成透明的 png 或者 webp 图像，以 scene01 中的 “CALL” 动画为例，是由 60 张静止图片快速播放组成的一个动画")]),s._v(" "),v("h2",{attrs:{id:"实现"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[s._v("#")]),s._v(" 实现")]),s._v(" "),v("p",[s._v("建议在 Scene 脚本外写以下代码，这样更加清晰")]),s._v(" "),v("div",{staticClass:"language-python line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-python"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 scrpit.rpy 815-989 行")]),s._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#######################################################################################")]),s._v("\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义callgif 即来电时的gif 屏幕中间一横线写 CALL")]),s._v("\nimage callgif"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个画面的名字叫 callgif")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00000.png"')]),s._v(" "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 播放的图片名称")]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v(" "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每张画面的暂停时间，单位是秒，因为移植版要把动画做到 60 帧，所以对素材扩分辨率补帧之后每张图片的展示时间是 0.0166667 秒（6无限循环）")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00001.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00002.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00003.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n\n    "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ………………………… 中间代码省略")]),s._v("\n\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00057.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00058.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n    "),v("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/pac/call/call00059.png"')]),s._v("\n    pause "),v("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0166666666666667")]),s._v("\n    repeat "),v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重复播放加 repeat ，否则不加")]),s._v("\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br"),v("span",{staticClass:"line-number"},[s._v("2")]),v("br"),v("span",{staticClass:"line-number"},[s._v("3")]),v("br"),v("span",{staticClass:"line-number"},[s._v("4")]),v("br"),v("span",{staticClass:"line-number"},[s._v("5")]),v("br"),v("span",{staticClass:"line-number"},[s._v("6")]),v("br"),v("span",{staticClass:"line-number"},[s._v("7")]),v("br"),v("span",{staticClass:"line-number"},[s._v("8")]),v("br"),v("span",{staticClass:"line-number"},[s._v("9")]),v("br"),v("span",{staticClass:"line-number"},[s._v("10")]),v("br"),v("span",{staticClass:"line-number"},[s._v("11")]),v("br"),v("span",{staticClass:"line-number"},[s._v("12")]),v("br"),v("span",{staticClass:"line-number"},[s._v("13")]),v("br"),v("span",{staticClass:"line-number"},[s._v("14")]),v("br"),v("span",{staticClass:"line-number"},[s._v("15")]),v("br"),v("span",{staticClass:"line-number"},[s._v("16")]),v("br"),v("span",{staticClass:"line-number"},[s._v("17")]),v("br"),v("span",{staticClass:"line-number"},[s._v("18")]),v("br"),v("span",{staticClass:"line-number"},[s._v("19")]),v("br"),v("span",{staticClass:"line-number"},[s._v("20")]),v("br"),v("span",{staticClass:"line-number"},[s._v("21")]),v("br"),v("span",{staticClass:"line-number"},[s._v("22")]),v("br")])]),v("p",[s._v("这样我们就准备好了这个动画，在 scene 脚本内，我们要展示这个动画的时候，只需要一句话就好")]),s._v(" "),v("div",{staticClass:"language-python line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-python"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 scene01.rpy 4480 行")]),s._v("\n\tshow screen callscr\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br"),v("span",{staticClass:"line-number"},[s._v("2")]),v("br")])]),v("p",[s._v("其实这样是给定义成了一个"),v("code",[s._v("screen")]),s._v("，"),v("code",[s._v("screen")]),s._v("的用法和 "),v("code",[s._v("image")]),s._v(" 类似，展示 show ，隐藏 hide ，所以隐藏动画的写法自然是")]),s._v(" "),v("div",{staticClass:"language-python line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-python"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 scene01.rpy 4494 行")]),s._v("\n\thide screen callscr\n")])]),s._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[s._v("1")]),v("br"),v("span",{staticClass:"line-number"},[s._v("2")]),v("br")])]),v("h2",{attrs:{id:"技巧"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#技巧"}},[s._v("#")]),s._v(" 技巧")]),s._v(" "),v("p",[s._v("有没有发现，"),v("code",[s._v("image callgif:")]),s._v(" 这里特别麻烦，有多少张图片语句行数就要 x2 ，写起来特别费时间")]),s._v(" "),v("p",[s._v("为了快速生成这样的代码，我们需要使用 Excel（我用的 MS Office Excel，与 WPS Excel 兼容性未知）")]),s._v(" "),v("p",[s._v("为了方便大家使用，这个"),v("code",[s._v("xlsx 文件")]),s._v(" 在 1.0 版本中已经一起打包进去了，你可以通过解包后在 pac 动画文件夹获取，如："),v("code",[s._v("images\\pac\\LETSROCK\\letsrock.xlsx")])]),s._v(" "),v("p",[s._v("这个 Excel 文件分了三个 Sheet ，分别是“初步整理”，“再次整理”，“结果”，填写好这三个 Sheet 就能自动生成 image 定义代码")]),s._v(" "),v("p",[s._v("在“初步整理”中，你需要")]),s._v(" "),v("ol",[v("li",[s._v("在 A 列输入动画文件的"),v("code",[s._v('"')]),s._v("（英文引号）+相对位置（输入两个然后下拉自动填充即可）")]),s._v(" "),v("li",[s._v("在 B 列中输入图片名称（输入两个然后下拉自动填充即可）+"),v("code",[s._v('"')]),s._v("（英文引号）")]),s._v(" "),v("li",[s._v("D 列会自动生成，不用管（如果自动生成那边行数不够就使用下拉自动填充，多了就删掉，与 A 列长度保持一致）")]),s._v(" "),v("li",[s._v("在 I 列输入 "),v("code",[s._v("pause 时间（单位是秒）")])]),s._v(" "),v("li",[s._v("L 列会自动生成，不用管（如果自动生成那边行数不够就使用下拉自动填充，多了就删掉，与 D 列长度保持一致）")])]),s._v(" "),v("p",[s._v("这样“初步整理”这个表就填好了")]),s._v(" "),v("p",[s._v("“初步整理”表格内容参考：")]),s._v(" "),v("table",[v("thead",[v("tr",[v("th",[s._v("A 列")]),s._v(" "),v("th",[s._v("B 列")]),s._v(" "),v("th",[s._v("D 列")]),s._v(" "),v("th"),s._v(" "),v("th",[s._v("I 列")]),s._v(" "),v("th",[s._v("L 列")])])]),s._v(" "),v("tbody",[v("tr",[v("td",[s._v('"images/pac/LETSROCK/')]),s._v(" "),v("td",[s._v('00000004.jpg"')]),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000004.jpg"')]),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause  0.0166666666666667")]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/')]),s._v(" "),v("td",[s._v('00000005.jpg"')]),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000005.jpg"')]),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/')]),s._v(" "),v("td",[s._v('00000006.jpg"')]),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000006.jpg"')]),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")])])])]),s._v(" "),v("p",[s._v("接下来把刚刚自动生成的 D 列和 L 列"),v("strong",[s._v("以文本形式")]),s._v("分别复制到“再次整理”这个 Sheet 中的 A 列和 B 列")]),s._v(" "),v("p",[s._v("接下来：")]),s._v(" "),v("ol",[v("li",[s._v("先复制 A 列到 F 列")]),s._v(" "),v("li",[s._v("再复制 B 列到 F 列中，从刚刚复制 A 列内容的结尾接上")]),s._v(" "),v("li",[s._v("在 J 列图片部分写上递增的奇数（从 1 开始，善用下拉自动填充）")]),s._v(" "),v("li",[s._v("在 J 列 "),v("code",[s._v("pause")]),s._v(" 部分写上递增的偶（从 2 开始，善用下拉自动填充）")])]),s._v(" "),v("p",[s._v("“再次整理”表格内容参考：")]),s._v(" "),v("table",[v("thead",[v("tr",[v("th",[s._v("A 列")]),s._v(" "),v("th",[s._v("B 列")]),s._v(" "),v("th"),s._v(" "),v("th",[s._v("F 列")]),s._v(" "),v("th",[s._v("J 列")])])]),s._v(" "),v("tbody",[v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000004.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000004.jpg"')]),s._v(" "),v("td",[s._v("1")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000005.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000005.jpg"')]),s._v(" "),v("td",[s._v("3")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000006.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000006.jpg"')]),s._v(" "),v("td",[s._v("5")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000007.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000007.jpg"')]),s._v(" "),v("td",[s._v("7")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000008.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000008.jpg"')]),s._v(" "),v("td",[s._v("9")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000009.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000009.jpg"')]),s._v(" "),v("td",[s._v("11")])]),s._v(" "),v("tr",[v("td",[s._v('"images/pac/LETSROCK/00000010.jpg"')]),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v('"images/pac/LETSROCK/00000010.jpg"')]),s._v(" "),v("td",[s._v("13")])]),s._v(" "),v("tr",[v("td",[s._v("……（省略）")]),s._v(" "),v("td",[s._v("……")]),s._v(" "),v("td"),s._v(" "),v("td",[s._v("……")]),s._v(" "),v("td",[s._v("……")])]),s._v(" "),v("tr",[v("td"),s._v(" "),v("td"),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause  0.0166666666666667")]),s._v(" "),v("td",[s._v("2")])]),s._v(" "),v("tr",[v("td"),s._v(" "),v("td"),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td",[s._v("4")])]),s._v(" "),v("tr",[v("td"),s._v(" "),v("td"),s._v(" "),v("td"),s._v(" "),v("td",[s._v("pause 0.0166666666666667")]),s._v(" "),v("td",[s._v("6")])])])]),s._v(" "),v("p",[s._v("接下来把 F 列和 J 列"),v("strong",[s._v("以文本形式")]),s._v("分别复制到“结果”这个 Sheet 中 A 列和 E 列")]),s._v(" "),v("p",[s._v("选中 E 列，先选中 E 列，在用键盘的 "),v("code",[s._v("Shift")]),s._v(" 选中 A 列，然后选择升序排序")]),s._v(" "),v("p",[s._v("此时在 A 列就生成了可以直接复制到脚本里面的代码啦！")]),s._v(" "),v("p",[s._v("这样就不需要重复手动写定义动画的代码了")]),s._v(" "),v("p",[s._v("最后，再次提醒："),v("strong",[s._v("这个方法仅适用于300张以内图片的情况，推荐不要超过100张，否则会非常卡")])]),s._v(" "),v("p",[s._v("超过这个数量的动画请参考下一篇：“动画效果制作——CDD篇”")])])}),[],!1,null,null,null);t.default=_.exports}}]);