(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{609:function(s,a,n){"use strict";n.r(a);var t=n(11),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[s._v("本节文档介绍如何添加小头像")])]),n("p",[s._v("官方文档参考资料：https://www.renpy.cn/doc/side_image.html")]),s._v(" "),n("h2",{attrs:{id:"需求描述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#需求描述"}},[s._v("#")]),s._v(" 需求描述")]),s._v(" "),n("p",[s._v("在对话框的左下角添加人物小头像，如图青色方框圈出位置")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E9%9C%80%E6%B1%82%E6%8F%8F%E8%BF%B0.png",alt:"需求描述"}})]),s._v(" "),n("h2",{attrs:{id:"分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[s._v("#")]),s._v(" 分析")]),s._v(" "),n("p",[s._v("解包本作的原版，你会发现这作并没有准备专门的小头像，小头像是由人物立绘缩小而成，在 "),n("code",[s._v("cg")]),s._v(" 文件夹下，Yu-ris 引擎读取 "),n("code",[s._v("cg/face")]),s._v(" 文件夹内的缩小头像（分辨率 375x679 像素）作为小头像，读取 "),n("code",[s._v("cg/stand")]),s._v(" 文件夹内的图片作为立绘（分辨率 600x1086 像素）")]),s._v(" "),n("p",[s._v("可能会有人理解不了上面的是什么情况，这里我放四张图片帮助大家理解")]),s._v(" "),n("blockquote",[n("p",[s._v("位于 "),n("code",[s._v("face")]),s._v(" 文件夹内用作对话框小头像的图片，该文件位置 "),n("code",[s._v("./cg/face/心愛/心愛_おやつ_基本_笑顔.png")]),s._v(" ，分辨率 "),n("strong",[s._v("375x679")]),s._v(" 像素")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E5%BF%83%E7%88%B1%E5%B0%8F%E5%A4%B4%E5%83%8F.png",alt:"心爱小头像"}})])]),s._v(" "),n("blockquote",[n("p",[s._v("位于 "),n("code",[s._v("stand")]),s._v(" 文件夹内用作人物立绘的图片，该文件位置 "),n("code",[s._v("./cg/stand/心愛/心愛_おやつ_基本_笑顔.png")]),s._v(" ，分辨率 "),n("strong",[s._v("600x1086")]),s._v(" 像素")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E5%BF%83%E7%88%B1%E7%AB%8B%E7%BB%98.png",alt:"心爱立绘"}})])]),s._v(" "),n("p",[s._v("另外，不同角色的立绘和小头像均大小不一，如下")]),s._v(" "),n("blockquote",[n("p",[s._v("位于 "),n("code",[s._v("face")]),s._v(" 文件夹内用作对话框小头像的图片，该文件位置 "),n("code",[s._v("./cg/face/真冬/真冬_制服_基本_まったり.png")]),s._v(" ，分辨率 "),n("strong",[s._v("400x724")]),s._v(" 像素")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E7%9C%9F%E5%86%AC%E5%B0%8F%E5%A4%B4%E5%83%8F.png",alt:"真冬小头像"}})])]),s._v(" "),n("blockquote",[n("p",[s._v("位于 "),n("code",[s._v("stand")]),s._v(" 文件夹内用作人物立绘的图片，该文件位置 "),n("code",[s._v("./cg/stand/真冬/真冬_制服_基本_まったり.png")]),s._v(" ，分辨率 "),n("strong",[s._v("640x1158")]),s._v(" 像素")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E7%9C%9F%E5%86%AC%E7%AB%8B%E7%BB%98.png",alt:"真冬立绘"}})])]),s._v(" "),n("h2",{attrs:{id:"ren-py-原始实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ren-py-原始实现"}},[s._v("#")]),s._v(" Ren'Py 原始实现")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在 screen say(who, what): 函数下有类似以下代码")]),s._v("\nadd SideImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 SideImage() 方法添加小头像，x 轴位置 0.0，y 轴位置 1.0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h2",{attrs:{id:"表示位置的方法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#表示位置的方法"}},[s._v("#")]),s._v(" 表示位置的方法")]),s._v(" "),n("p",[s._v("关于这里 xalign 和 yalign 的简要说明，如图")]),s._v(" "),n("p",[n("img",{attrs:{src:"/Doc/images/renpy/%E6%B7%BB%E5%8A%A0%E5%A4%A7%E5%B0%8F%E4%B8%8D%E5%90%8C%E7%9A%84%E5%B0%8F%E5%A4%B4%E5%83%8F/%E5%9D%90%E6%A0%87%E8%BD%B4.png",alt:"坐标轴"}})]),s._v(" "),n("p",[s._v("淡蓝色标注的是屏幕，屏幕左上角是坐标轴起始点（0，0），向右是 X 轴正方向，向下是 Y 轴正方向")]),s._v(" "),n("p",[s._v("如何图片要想展示给玩家，就必须给定其在屏幕上的位置，表示方法有两种："),n("strong",[s._v("坐标表示法")]),s._v("和"),n("strong",[s._v("相对位置表示法")])]),s._v(" "),n("p",[s._v("本作移植版 GUI 采用 1920x1080 的分辨率（注意这个分辨率和你的显示器屏幕分辨率无关，引擎会自动缩放到合适大小），所以在刚才的坐标轴中，屏幕的右下角用坐标表示法就是（1920，1080），坐标表示法就是像数学中的坐标轴一样，先读 X 轴的精确数值，再读 Y 轴的精确数值")]),s._v(" "),n("p",[s._v("在使用坐标表示法时，"),n("strong",[s._v("不可以")]),s._v("加上小数点，下面我们假设需要把小头像放在（20，1080）这个位置，我们应该这么写")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("add SideImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1080")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("有人会说：“那我放每张图片都要计算像素，岂不是非常麻烦？”")]),s._v(" "),n("p",[s._v("是这样的，所以我们还可以使用相对位置表示法，同样是刚才的坐标轴，我们把屏幕在正方向最远处设为 "),n("code",[s._v("1.0")]),s._v(" ，那么，假设我们的把 GUI 设置为 "),n("code",[s._v("1920x1080")]),s._v(" 的话，（1920，1080）这个位置就可以表示为：")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("再举一例，（960，540）就可以这样表示：")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("这样的方式更加方便，所以也更加常用，不过需要注意，使用相对位置表示法时，"),n("strong",[s._v("必须加上小数点")])]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[s._v("xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不加小数点是坐标表示法，图片会被放到（1，1）这个位置")]),s._v("\n\nxalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设 GUI 分辨率设置为 1280x720，那么这里就表示（1280，720）这个位置")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h2",{attrs:{id:"注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[s._v("#")]),s._v(" 注意事项")]),s._v(" "),n("p",[s._v("按照 Ren'Py 这里的原始设计方法，我们在制作 Galgame 时，必须单独设计小头像，并且头像文件大小应当一致，这样在这里调整这个参数就能把所有的头像全部放在统一的位置")]),s._v(" "),n("h2",{attrs:{id:"修改代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改代码"}},[s._v("#")]),s._v(" 修改代码")]),s._v(" "),n("p",[s._v("根据前面的"),n("a",{attrs:{href:"##%E5%88%86%E6%9E%90"}},[s._v("分析")]),s._v("，我们发现原作并不满足这里“注意事项”的要求，这会导致我们小头像的参数不能定死，所以我们需要一个变量来实现在运行中变换这一数值的目的")]),s._v(" "),n("p",[s._v("Ren'Py 里面提供了命名空间来存储这样的变量（不需要持久保存，在游戏运行中不断变化）")]),s._v(" "),n("p",[s._v("这里的实现是这样的")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 screen.rpy 34-38行")]),s._v("\ninit python "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# init python 初始化阶段运行，正常顺序加载 ## in sideimagesize 在命名空间 sideimagesize 中")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要赋初始值")]),s._v("\n    SideImageXalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.08")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SideImageXalign 横坐标 Xalign 的值")]),s._v("\n    SideImageYalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.35")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SideImageYalign 横坐标 Yalign 的值")]),s._v("\n    SideImageZoom "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.95")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# SideImageZoom 图片缩放大小 Zoom 的值")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("这样，我们就创建了一个叫做 "),n("code",[s._v("sideimagesize")]),s._v(" 的命名空间，接下来，我们来改造一下上面的 "),n("code",[s._v("screen say(who, what):")]),s._v(" 方法")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 screen.rpy 138-179行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 里面还包含了不属于本节要讲的内容，请先略过这一部分")]),s._v("\nscreen say"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("who"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" what"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    style_prefix "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"say"')]),s._v("\n\n    window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"window"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在这里从命名空间导入变量，记得需要在if判断体前完成哦，不过不能超出window部分")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2021年10月26日 下面这句居然开始报warning（store.sideimagesize，去store就好，但是跑不起来）了，但是store不能去，去了就炸")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开发使用Ren'py7.4.6，此时官网最新版为7.4.10，怀疑是新版改了些什么东西")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂时不考虑升级最新版，但是由于这版在Win11视频解码存在问题，最终做完之后考虑上下最新版")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2022年1月28日 报warning 的问题应该是IDE插件的锅，现在没有了")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 而解码实际上没有问题，应该只是W的电脑太菜了解不动2K->加入硬解就好了")]),s._v("\n        \n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从命名空间导入变量的方法：$ import store.命名空间名称")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下面的 104 不知道咋加上去的，不需要")]),s._v("\n        $ "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sideimagesize "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" sideimagesize104 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这里的104可以删掉，没有实际意义，估计是什么时候 IDE 抽风了的原因")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" who "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n            window"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"namebox"')]),s._v("\n                style "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"namebox"')]),s._v("\n                text who "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"who"')]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# text what id "what"')]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if renpy.is_seen(ever = True) and persistent.lightRead: 这句在移动端似乎不起作用？")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 已读未读文本不同颜色")]),s._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 增加描边")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://www.renpy.cn/thread-278-1-1.html")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" renpy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("is_seen"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ever "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ever 为false时对本次运行起效，此处需要对过去所有阅读起效")]),s._v("\n            text what "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"what"')]),s._v(" color "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#f9d198"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 标记颜色")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            text what "),n("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"what"')]),s._v(" color "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#FFFFFF"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 未读颜色")]),s._v("\n\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 如果有对话框头像，会将其显示在文本之上。请不要在手机界面下显示这个，因为")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 没有空间。")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 小头像的位置在这里调整 用zoom可以缩放图片")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('### if not renpy.variant("small"):')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### add SideImage() xalign 0.0 yalign 1.0")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("### 针对大的 add SideImage() xalign 0.12 yalign 9.1 zoom 0.35")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" renpy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("variant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"small"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重点关注这里的代码，把 xalign yalign zoom 的数值分别替换成了变量 ideimagesize.SideImageXalign ，sideimagesize.SideImageYalign ， sideimagesize.SideImageZoom，这样我们就实现了小头像的动态位置调整")]),s._v("\n        add SideImage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" xalign sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageXalign yalign sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageYalign zoom sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageZoom\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br")])]),n("h2",{attrs:{id:"调用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#调用"}},[s._v("#")]),s._v(" 调用")]),s._v(" "),n("p",[s._v("在切换人物的时候，调整该变量的值即可")]),s._v(" "),n("div",{staticClass:"language-python line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 scene01 2090-2120行")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关注这里的代码")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个语句是针对心爱设计的参数，能够调整心爱在对话框里面的位置")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageXalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.10")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageYalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.72")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 仍然是相对位置表示法，大于1.0时以1.0所在轴的数值做参考，比如这里的偏移位置就是 （1080x15.72=16977.6px），这里的数值可以通过多次调整参数测试出来")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageZoom "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.96")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 心爱 「そこじゃない！」附加：pac/怒り")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 心爱小跳的动画")]),s._v("\n    hide 心愛_制服_基本_ぶわー\n    show 心愛_制服_基本_不機嫌"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以关注这里的相对位置表示法")]),s._v("\n        zoom "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 图片缩放")]),s._v("\n        xalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8918")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# X 轴位置")]),s._v("\n        yalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.09")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Y 轴位置")]),s._v("\n        linear "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.15")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linear 时间 ，在这个时间内向指定位置移动")]),s._v("\n        linear "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.15")]),s._v(" yalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.09")]),s._v("\n    voice "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"voice/心愛/cca_a1_0041.ogg"')]),s._v("\n    ai 心愛_制服_基本_不機嫌 "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"才不是那个呢！"')]),s._v("\n    hide 心愛_制服_基本_ぶわー\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关注这里的代码")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个语句是针对真冬设计的参数，能够调整真冬在对话框里面的位置")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageXalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.08")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageYalign "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("29.35")]),s._v("\n    $ sideimagesize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("SideImageZoom "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.95")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 真冬 「その代わり湯飲みあげるから」")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# hide 真冬_制服_基本_おやつ2")]),s._v("\n    show 真冬_制服_基本_おやつ"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" at love69_left "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" dissolve\n    voice "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"voice/真冬/maf_a1_0093.ogg"')]),s._v("\n    dong 真冬_制服_基本_おやつ"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"作为奶糖苹果的代替，喝杯茶吧"')]),s._v("\n    hide 真冬_制服_基本_おやつ"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);