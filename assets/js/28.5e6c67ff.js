(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{608:function(s,a,t){"use strict";t.r(a);var n=t(11),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("本节文档介绍ATL动画和转场的制作，")])]),t("p",[s._v("官方文档1：https://www.renpy.cn/doc/atl.html#atl-syntax-and-semantics")]),s._v(" "),t("p",[s._v("官方文档2：https://www.renpy.cn/doc/atl.html#atl-syntax-and-semantics")]),s._v(" "),t("h2",{attrs:{id:"前置知识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前置知识"}},[s._v("#")]),s._v(" 前置知识")]),s._v(" "),t("p",[s._v("无")]),s._v(" "),t("h2",{attrs:{id:"需求描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需求描述"}},[s._v("#")]),s._v(" 需求描述")]),s._v(" "),t("ol",[t("li",[s._v("galgame 中，人物往往会有一些活动（比如小跳一下、位置移动等）--\x3eATL 动画")]),s._v(" "),t("li",[s._v("scene 和 scene 间的过场动画 --\x3e 转场")])]),s._v(" "),t("h2",{attrs:{id:"实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实现"}},[s._v("#")]),s._v(" 实现")]),s._v(" "),t("h3",{attrs:{id:"atl-动画"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#atl-动画"}},[s._v("#")]),s._v(" ATL 动画")]),s._v(" "),t("p",[s._v("这里我们用 Scene02 心爱在保龄球场的动画举例，如果是上面说的小跳一下也是类似的，只不过移动最终要返回原处而已")]),s._v(" "),t("p",[s._v("这里的例子是心爱酱连续多次移动")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 参考 ver1.0 scene02.rpy 1188-1208行")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 心爱搬保龄球小动画")]),s._v("\n    show 心愛_制服_基本_不機嫌"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        zoom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 缩放：放大 1.5 倍")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相对坐标表示法：x 轴（起始位置在画面外）")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.31")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相对坐标表示法：y 轴")]),s._v("\n        linear "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),s._v(" xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.339")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# linear 移动时间（秒） 最终位置 （ x 轴 1.339 ；y 轴没有位移可以不写）")]),s._v("\n    pause "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 暂停 2.5 秒")]),s._v("\n    show 心愛_制服_基本_不機嫌"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 同表情不需要 hide")]),s._v("\n        zoom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.339")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.31")]),s._v("\n        linear "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(" xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1895")]),s._v("\n    pause "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v("\n    show 心愛_制服_基本_不機嫌"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        zoom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1895")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.31")]),s._v("\n        linear "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v(" xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.04")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# pause 1.8 去掉最后的 pause 1.8 让心爱停止之前开始说话，和原版相比更加不突兀")]),s._v("\n    voice "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"voice/心愛/cca_a1_0200.ogg"')]),s._v("\n    ai 心愛_制服_基本_不機嫌 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"咕呜... 咕奴奴奴奴!"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("p",[s._v("上面是心爱搬保龄球小动画的例子，因为在整个游戏中，心爱只这样移动了一次，如果需要移动多次，每次都这么写显然很麻烦，我们可以用 transform 把一种 ATL 模式固定下来")]),s._v(" "),t("p",[s._v("比如本次移植中，人物和背景图片的位置就是这么固定的，下面这个语句确定了心爱酱的位置")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("    transform love69_right"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        zoom "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),s._v("\n        xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.09")]),s._v("\n        linear "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(" xalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.8918")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("这样定义之后，心爱在右就可以用这样的 at 语句表示出来")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("show 心愛_制服_おやつ_にっこり at love69_right\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("这样的定义对图片也是有效的，如下")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 定义")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# waifu2x 非标准大小（不是1920*1080的而是1920*1440分辨率的使用以下参数）")]),s._v("\n    transform love69_bg1440"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        yalign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.5")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用")]),s._v("\n    scene 玄関_昼 at love69_bg1440 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" ImageDissolve"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"images/tr/trans01.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ramplen"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" reverse"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" alpha"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" time_warp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"转场"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#转场"}},[s._v("#")]),s._v(" 转场")]),s._v(" "),t("p",[s._v("官方的文档写的很清楚，不过有一种非常常见的方法很容易被忽视，所以这里开了一小节来写")]),s._v(" "),t("p",[s._v("这个方法叫做 "),t("strong",[s._v("ImageDissolve")]),s._v(" ，可以按照自己定义的图片来进行过场的渲染，这个图片非常特殊，我放两张，来一起康康")]),s._v(" "),t("p",[t("img",{attrs:{src:"/Doc/images/renpy/ATL%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA/trans01.png",alt:"百叶窗"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"/Doc/images/renpy/ATL%E5%8A%A8%E7%94%BB%E5%92%8C%E8%BD%AC%E5%9C%BA/ysr006.png",alt:"转圈"}})]),s._v(" "),t("p",[s._v("看着上面的图片，能不能想像出来效果是什么样的呢？")]),s._v(" "),t("p",[s._v("上面的那张是百叶窗特效，下面的是转圈，有没有感觉和 PowerPoint 或者 Adobe Premiere 里面的动画特别像呢？")]),s._v(" "),t("p",[s._v("这种图片的特殊之处在于纯白到纯黑之间是一个色阶一个色阶依次变化过来的，在制作 Galgame 的过程中，制作人可以让引擎按照色阶的顺序用新的图片渲染在旧的图片之上，这是一种非常常见也非常巧妙的制作方法，没有见过的话可能看到在于的图片有点懵圈，我第一次看到也是这样的，实际动手实现了之后也不由得感叹这样设计真的是非常巧妙！建议你也动手试试！")])])}),[],!1,null,null,null);a.default=e.exports}}]);